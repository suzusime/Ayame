構文解析仕様
===========
この文書は文目言語の構文解析に関する仕様書です。

文法要素は `{行}` のように波括弧で、トークンは字句解析仕様で示されたトークン表記に従って表記します。
`ε` は「空」を表します。

## スクリプト
```
{スクリプト} ::= ( {行} <LF> )* 
```

スクリプトは0以上の行により構成されます。

## 行
```
{行} ::= {式}
       | {式} <t> {式}
       | <t> {式}
       | # {文字列}
       | ε
```

行は次の5つの形式のどれかをとります。

1つめは、式1つで構成される形式です。
これは、式の評価結果が地の文として表示される記法です。

2つめは、2つの式がタブに区切られて並んでいる形式です。
これは、1つめの式の評価結果が発話者名、2つめの式の評価結果が台詞として表示される記法です。

3つめは、最初にタブがあったあとに式が続く形式です。
この場合、発話者名は前の発話者名と同じものとなり、式の評価結果が台詞として表示されます。
但し、発話者名は改ページ（空行）を挟むとリセットされ、空白となります。
つまり、空行の後にこのような記法の行を書くと、それは地の文となります。

4つめは、#のあとに文字列が続く形式です。
これはその文字列を名前としたラベルを定義する記法です。

5つめは、空行です。
空行は改ページ

#### 例1
```
俺はこいつの何を知っている？何も知らないじゃないか。
```
これは地の文です。

#### 例2
```
七瀬	そんな悲しいこと言わないでください。
	$heroさんらしくないです。

	でも……
	お前はああ言ったじゃないか。

	ほら、――
```
これは、
1. 「そんな～らしくないです。」までが七瀬の台詞として表示され、
2. 改ページを挟み、
3. 「でも～じゃないか。」までが地の文として表示され、
4. 改ページを挟み、
5. 「ほら、――」が地の文として表示される。

スクリプトになります。

#### 例3
```
#happyend
```
これは `happyend` というラベルを定義する行になります。

